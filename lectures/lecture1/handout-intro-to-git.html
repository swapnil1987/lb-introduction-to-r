<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction to R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Swapnil Singh" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Introduction to R
]
.subtitle[
## Lecture 1: Getting (slowly) Started
]
.author[
### Swapnil Singh
]
.date[
### Lietuvos Bankas | <a href="https://github.com/swapnil1987/lb-introduction-to-r">Course Link</a>
]

---


&lt;style type="text/css"&gt;
# CSS for including pauses in printed PDF output (see bottom of lecture)
@media print {
  .has-continuation {
    display: block !important;
  }
}
&lt;/style&gt;

&lt;style type="text/css"&gt;
.center-fit {
  display: block;
  margin-left: auto;
  margin-right: auto;
  max-width: 80%;
  max-height: 10%;
}
&lt;/style&gt;





# Lecture's Objectives

1. [Why this course?](#motivation)

2. [Getting started](#started)

3. [What R can do?](#r4ds)

4. [Basic Introduction](#introduction)





---
class: inverse, center, middle
name: motivation

# Why this course?

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

---

# What is R?

- R is a language and environment for statistical computing and graphics.
- **Open-source** and extensible.
- Built upon _S_, a statistical programming language.
- Rich set of packages for data manipulation (e.g., `tidyverse` environment build upon `tidyr`, `dplyr`, etc.).
- Comprehensive plotting libraries (e.g., `ggplot2`, `lattice`).
- Wide array of statistical tests.
- Facilitates machine learning algorithms.
- Excellent packages (e.g., `sf`, `terra`, etc.) for spatial datasets and GIS applications

---


# Comparison with other languages


## R vs Python

- R: More focused on statistical modeling and data visualization.
- R: Weaker on web-scraping
- Python: More general-purpose but has strong data science libraries (e.g., `pandas`, `scikit-learn`).

## R vs MATLAB

- R: Open-source and has a larger community for data science.
- MATLAB: Stronger in numerical simulation but less versatile for data manipulation.


---

#  R vs STATA

## Flexibility and Extensibility

- **R**: Highly extensible through packages; good for custom statistical methods.
- **STATA**: More rigid but user-friendly for standard statistical tests.

## Data Handling

- **R**: More versatile data manipulation capabilities (`dplyr`, `tidyr`).
- **STATA**: Efficient for large datasets but less flexibility.

## Graphics and Visualization

- **R**: Advanced graphical capabilities (`ggplot2`).
- **STATA**: Basic graphs are easier to produce but less customizable.

### Pricing and Community

- **R**: Open-source, large and active community.
- **STATA**: Commercial software, smaller community focused on social sciences.

---


# So, Why This Course?

- Provide a basic introduction to R
- In future, extend the course to advance level (_depending upon demand_)
  - Causal inference methods
  - Big data (`vroom`)
  - Webscraping 
  - Geospatial analysis
  - ...
--

- Many of these topics are not directly relevant for your specific work, but,

--

&gt; &lt;span style="color: red;"&gt;**Knowledge is power!**&lt;/span&gt;




---

class: inverse, center, middle
name: started

# Getting Started

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

---



# What you need?

## For this course:

- Install `R`
- Install `RStudio`

## Additional components

- Install `Git`
- Create a `Github` account. Alternatively, you can also create account on `Gitlab` or `Gitbucket`, but `Github` is the most used one
- If working only with `RStudio`, follow this website to get things working: [http://happygitwithr.com](http://happygitwithr.com)

- For general purpose use of `Git`, I will suggest to use `GitKraken`




---

class: inverse, center, middle
name: r4ds

# What R Can Do?

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

---

# Let's create some figures!
&lt;figure style="text-align: center;"&gt;
&lt;img src="figures/nytimes-covid-spiral.jfif" style="width:70%; max-height:55vh; object-fit:contain; margin:auto; display:block;"&gt;
 &lt;figcaption&gt;NY Times, 2022-01-06, Covid Cases Spiral, US &lt;/figcaption&gt;
&lt;/figure&gt;

---

# Let's create some figures!
## Hats off to ByData blog!


```r
pacman::p_load("tidyverse", "ggtext", "here", "lubridate")
owid_url &lt;- "https://github.com/owid/covid-19-data/blob/master/public/data/owid-covid-data.csv?raw=true"
covid &lt;- suppressMessages(read_csv(owid_url))

# get the data only for the US
covid_cases &lt;- covid |&gt; 
  dplyr::filter(location == 'United States') |&gt; 
  dplyr::select(date, new_cases, new_cases_smoothed) |&gt; 
  dplyr::arrange(date) |&gt; 
  
  
  
  # add some additional data to complete the year
  dplyr::add_row(date = as_date("2020-01-01"), new_cases = 0, new_cases_smoothed = 0,
          .before = 1) %&gt;% 
  tidyr::complete(date = seq(min(.$date), max(.$date), by = 1),
           fill = list(new_cases = 0, new_cases_smoothed = 0)) %&gt;% 
  dplyr::mutate(day_of_year = yday(date),
         year = year(date)
         )
```


---

# How a basic plot looks like?


```r
basic.plot &lt;- covid_cases |&gt; 
  ggplot() +
  geom_segment(aes(x = day_of_year, xend = day_of_year + 1, 
                   y = as.POSIXct(date), yend = as.POSIXct(date))) +
  coord_polar()
basic.plot
```

&lt;img src="handout-intro-to-git_files/figure-html/unnamed-chunk-4-1.png" width="80%" height="80%" style="display: block; margin: auto;" /&gt;
---

# How a basic plot looks like?


```r
basic.plot + theme_void()
```

&lt;img src="handout-intro-to-git_files/figure-html/unnamed-chunk-5-1.png" width="80%" height="80%" style="display: block; margin: auto;" /&gt;



---

# Moving onto advanced level now!

&lt;img src="handout-intro-to-git_files/figure-html/unnamed-chunk-6-1.png" width="80%" height="80%" style="display: block; margin: auto;" /&gt;
---

# Moving onto advanced level now!


```r
month_length &lt;- c(31, 28, 31, 30, 31, 30,
                  31, 31, 30, 31, 30, 31)

month_breaks &lt;- cumsum(month_length) - 30

basic.plot &lt;-  basic.plot + scale_x_continuous(minor_breaks = month_breaks, 
                     breaks = month_breaks[c(1, 4, 7, 10)],
                     labels = c("Jan.", "April", "July", "Oct.")) +
  theme(
    plot.background = element_rect(color = NA, fill = "white"),
    panel.grid.major.x = element_line(color = "grey70", size = 0.2, linetype = "dotted"),
    panel.grid.minor.x = element_line(color = "grey70", size = 0.2, linetype = "dotted"),
    axis.text.x = element_text(color = base_grey, size = 5, hjust = 0.5),
  )
```
---

# Moving onto advanced level now!
- One truth about generating good figures: last 10 percent improvement takes 90 percent of time

```r
month_length &lt;- c(31, 28, 31, 30, 31, 30,
                  31, 31, 30, 31, 30, 31)

month_breaks &lt;- cumsum(month_length) - 30

basic.plot &lt;-   basic.plot + scale_x_continuous(minor_breaks = month_breaks, 
                     breaks = month_breaks[c(1, 4, 7, 10)],
                     labels = c("Jan.", "April", "July", "Oct.")) +
  theme(
    plot.background = element_rect(color = NA, fill = "white"),
    panel.grid.major.x = element_line(color = "grey70", size = 0.2, linetype = "dotted"),
    panel.grid.minor.x = element_line(color = "grey70", size = 0.2, linetype = "dotted"),
    axis.text.x = element_text(color = base_grey, size = 5, hjust = 0.5),
  )
```



---

# Advanced level now

&lt;img src="handout-intro-to-git_files/figure-html/unnamed-chunk-9-1.png" width="100%" height="80%" style="display: block; margin: auto;" /&gt;



---

# Minard's 1812 Plot
- Hats off to Andrew Heiss
- One lesson from this course: learn from best coders out there, rewrite and replicate their code
&lt;figure style="text-align: center;"&gt;
&lt;img src="figures/minard-plot.png" style="width:100%; height:200%; object-fit:contain; margin:auto; display:block;"&gt;
 &lt;figcaption&gt;Forward and Retreat path of Napoleon's Army &lt;/figcaption&gt;
&lt;/figure&gt;



---


--- 

# Minard's 1812 Plot: Basic Work



```r
pacman::p_load(tidyverse,
               lubridate,
               ggmap,
               ggrepel,
               gridExtra,
               pander)

cities &lt;- read.table("data/cities.txt",
                     header = TRUE, stringsAsFactors = FALSE)

troops &lt;- read.table("data/troops.txt",
                     header = TRUE, stringsAsFactors = FALSE)

temps &lt;- read.table("data/temps.txt",
                    header = TRUE, stringsAsFactors = FALSE) |&gt; 
  mutate(date = dmy(date))  # Convert string to actual date
```


---

# Minard's 1812 Plot: Basic Figure


```r
ggplot(troops, aes(x = long, y = lat, group = group)) +
  geom_path()
```

&lt;img src="handout-intro-to-git_files/figure-html/unnamed-chunk-11-1.png" width="100%" height="70%" style="display: block; margin: auto;" /&gt;

---

# Minard's 1812 Plot: Basic Figure
&lt;img src="handout-intro-to-git_files/figure-html/unnamed-chunk-12-1.png" width="100%" height="70%" style="display: block; margin: auto;" /&gt;



---

# Minard's 1812 Plot: Bit more
&lt;img src="handout-intro-to-git_files/figure-html/unnamed-chunk-13-1.png" width="100%" height="70%" style="display: block; margin: auto;" /&gt;


---

# Minard's 1812 Plot: Bit more
&lt;img src="handout-intro-to-git_files/figure-html/unnamed-chunk-14-1.png" width="100%" height="70%" style="display: block; margin: auto;" /&gt;



---

# Minard's 1812 Plot: Bring Spatial Map
&lt;img src="handout-intro-to-git_files/figure-html/unnamed-chunk-15-1.png" width="100%" height="70%" style="display: block; margin: auto;" /&gt;



---

# Minard's 1812 Plot: Watercolor
&lt;img src="handout-intro-to-git_files/figure-html/unnamed-chunk-16-1.png" width="100%" height="70%" style="display: block; margin: auto;" /&gt;


---

# Minard's 1812 Plot: Overlay
&lt;img src="handout-intro-to-git_files/figure-html/unnamed-chunk-17-1.png" width="100%" height="70%" style="display: block; margin: auto;" /&gt;


---

# Spatial Map: My Own Plot

&lt;figure style="text-align: center;"&gt;
&lt;img src="figures/atlanta_black_population_share.png" style="width:70%; max-height:55vh; object-fit:contain; margin:auto; display:block;"&gt;
 &lt;figcaption&gt;Atlanta Black population share at the block level &lt;/figcaption&gt;
&lt;/figure&gt;


--- 


class: inverse, center, middle
name: introduction

# Basic Introduction

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

---







# What is R?

- R is a language and environment for statistical computing and graphics.
- **Open-source** and extensible.
- Built upon _S_, a statistical programming language.
- Rich set of packages for data manipulation (e.g., `tidyverse` environment build upon `tidyr`, `dplyr`, etc.).
- Comprehensive plotting libraries (e.g., `ggplot2`, `lattice`).
- Wide array of statistical tests.
- Facilitates machine learning algorithms.
- Excellent packages (e.g., `sf`, `terra`, etc.) for spatial datasets and GIS applications

---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
